<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inicio</title>
</head>

<body>
    <form action="{{ url_for('mostrar_productos_usuario', username=session['username']) }}" method="GET">
        <input type="submit" value="Mostrar Productos">
    </form>
    <form id="miFormulario" method="POST"> <!-- Agregado el atributo method con el valor "POST" -->
        <label for="codigo">Codigo:</label>
        <input type="number" id="codigo" name="codigo" required>
        <label for="elemento">Elemento:</label>
        <input type="text" id="elemento" name="elemento" required>
        <label for="descripcion">Descripción:</label>
        <input type="text" id="descripcion" name="descripcion" required>
        <input type="submit" value="Agregar">
    </form>
    
    <table id="miTabla">
        <thead>
            <tr>
                <th>Código</th>
                <th>Nombre</th>
                <th>Descripción</th>
            </tr>
        </thead>
        <tbody>
            <!-- se agregarán las filas dinámicamente -->
        </tbody>
    </table>
    <script>
        const formulario = document.getElementById('miFormulario');
        const tabla = document.getElementById('miTabla').getElementsByTagName('tbody')[0];

        formulario.addEventListener('submit', function (event) {
            event.preventDefault();

            const codigo = document.getElementById('codigo').value;
            const elemento = document.getElementById('elemento').value;
            const descripcion = document.getElementById('descripcion').value;

            console.log("Código:", codigo);
            console.log("Elemento:", elemento);
            console.log("Descripción:", descripcion);

            // Crear una nueva fila en la tabla
            const fila = tabla.insertRow();
            const celdaCodigo = fila.insertCell(0);
            const celdaElemento= fila.insertCell(1);
            const celdaDescripcion = fila.insertCell(2);

            // Agregar los valores del formulario a la fila
            celdaCodigo.textContent = codigo;
            celdaElemento.textContent = elemento;
            celdaDescripcion.textContent = descripcion;
            // Limpiar el formulario
            formulario.reset();
        });

    </script>
</body>
</html>